<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ejercicios – Tema 8 con Bootstrap 5</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .card + .card { margin-top: 1rem; }
    </style>
</head>
<body class="bg-light">

<div class="container py-4">
    <h1 class="mb-4">Ejercicios - Tema 8: Validación de formularios</h1>
    <p class="text-muted">Se mantiene el patrón de validación con <code>addEventListener('submit', …)</code>.</p>


    <!-- EJERCICIO 1 -->
    <div class="card">
        <div class="card-header">Ejercicio 1 – JS básico</div>
        <div class="card-body">

            <form id="bs-form-ej1" class="row g-3" novalidate>
                <div class="col-md-6">
                    <label class="form-label">Usuario</label>
                    <input class="form-control" type="text" name="usuario">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Contraseña</label>
                    <input class="form-control" type="password" name="clave">
                </div>
                <div class="col-12">
                    <button class="btn btn-success" type="submit">Enviar</button>
                </div>
            </form>

            <div id="bs-msg-ej1" class="mt-2"></div>
        </div>
    </div>


    <!-- EJERCICIO 2 -->
    <div class="card">
        <div class="card-header">Ejercicio 2 – Validación HTML5</div>
        <div class="card-body">

            <form id="bs-form-ej2" class="row g-3">
                <div class="col-md-4">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" required class="form-control">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Edad</label>
                    <input type="number" name="edad" min="18" max="120" required class="form-control">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Contraseña</label>
                    <input type="password" name="pass" minlength="6" required class="form-control">
                </div>
                <div class="col-12">
                    <button class="btn btn-success" type="submit">Enviar</button>
                </div>
            </form>

            <div id="bs-msg-ej2" class="mt-2"></div>
        </div>
    </div>


    <!-- EJERCICIO 3 -->
    <div class="card">
        <div class="card-header">Ejercicio 3 – Validación con patrón</div>
        <div class="card-body">

            <form id="bs-form-ej3" class="row g-3">
                <div class="col-md-12">
                    <label class="form-label">Nombre y apellidos</label>
                    <input type="text" name="nombre" pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\- ]+" title="Solo letras, espacios y guiones" required class="form-control">
                </div>
                <div class="col-12">
                    <button class="btn btn-success" type="submit">Enviar</button>
                </div>
            </form>

            <div id="bs-msg-ej3" class="mt-2"></div>
        </div>
    </div>


    <!-- EJERCICIO 4 -->
    <div class="card">
        <div class="card-header">Ejercicio 4 – Coincidencia de contraseñas</div>
        <div class="card-body">

            <form id="bs-form-ej4" class="row g-3" novalidate>
                <div class="col-md-6">
                    <label class="form-label">Contraseña</label>
                    <input type="password" name="clave1" minlength="6" required class="form-control">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Repetir contraseña</label>
                    <input type="password" name="clave2" minlength="6" required class="form-control">
                </div>
                <div class="col-12">
                    <button class="btn btn-success" type="submit">Registrar</button>
                </div>
            </form>

            <div id="bs-msg-ej4" class="mt-2"></div>
        </div>
    </div>


    <!-- EJERCICIO 5 -->
    <div class="card">
        <div class="card-header">Ejercicio 5 – Registro completo</div>
        <div class="card-body">

            <form id="bs-form-ej5" class="row g-3" novalidate>
                <div class="col-md-6">
                    <label class="form-label">Nombre y apellidos</label>
                    <input type="text" name="nombre"
                           pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\- ]+"
                           required class="form-control">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" required class="form-control">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Edad</label>
                    <input type="number" name="edad" min="16" max="120" required class="form-control">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Contraseña</label>
                    <input type="password" name="clave1" minlength="6" required class="form-control">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Repetir contraseña</label>
                    <input type="password" name="clave2" minlength="6" required class="form-control">
                </div>
                <div class="col-12">
                    <label class="form-check-label">
                        <input type="checkbox" name="terminos" required class="form-check-input">
                        Acepto los términos
                    </label>
                </div>
                <div class="col-12">
                    <button class="btn btn-success" type="submit">Enviar</button>
                </div>
            </form>

            <div id="bs-msg-ej5" class="mt-2"></div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>

//EJERCICIO 1
document.getElementById("bs-form-ej1").addEventListener("submit", function(e){
    e.preventDefault();
    const u = this.usuario.value.trim();
    const c = this.clave.value.trim();
    const msg = document.getElementById("bs-msg-ej1");

    if(u === "" || c === ""){
        msg.innerHTML = `<div class="alert alert-danger">Todos los campos son obligatorios.</div>`;
    } else {
        msg.innerHTML = `<div class="alert alert-success">Formulario enviado correctamente.</div>`;
    }
});

//EJERCICIO 2
document.getElementById("bs-form-ej2").addEventListener("submit", function(e){
    if(!this.checkValidity()){
        e.preventDefault();
        this.reportValidity();
        return;
    }
    e.preventDefault();
    document.getElementById("bs-msg-ej2").innerHTML =
        `<div class="alert alert-success">Formulario enviado correctamente.</div>`;
});

//EJERCICIO 3
document.getElementById("bs-form-ej3").addEventListener("submit", function(e){
    if(!this.checkValidity()){
        e.preventDefault();
        this.reportValidity();
        return;
    }
    e.preventDefault();
    document.getElementById("bs-msg-ej3").innerHTML =
        `<div class="alert alert-success">Nombre válido y enviado correctamente.</div>`;
});

//EJERCICIO 4
document.getElementById("bs-form-ej4").addEventListener("submit", function(e){
    e.preventDefault();
    const clav1 = this.clave1.value;
    const clav2 = this.clave2.value;
    const msg = document.getElementById("bs-msg-ej4");

    if(clav1 !== clav2){
        msg.innerHTML = `<div class="alert alert-danger">Las contraseñas no coinciden.</div>`;
    } else {
        msg.innerHTML = `<div class="alert alert-success">Registro completado correctamente.</div>`;
    }
});

//EJERCICIO 5 
document.getElementById("bs-form-ej5").addEventListener("submit", function(e){
    if(!this.checkValidity()){
        e.preventDefault();
        this.reportValidity();
        return;
    }
    e.preventDefault();

    if(this.clave1.value !== this.clave2.value){
        document.getElementById("bs-msg-ej5").innerHTML =
            `<div class="alert alert-danger">Las contraseñas no coinciden.</div>`;
        return;
    }

    const datos = {
        nombre: this.nombre.value,
        email: this.email.value,
        edad: this.edad.value,
        acepta_terminos: this.terminos.checked
    };

    document.getElementById("bs-msg-ej5").innerHTML =
        `<div class="alert alert-success"><strong>Datos enviados:</strong><br>${JSON.stringify(datos)}</div>`;
});
</script>

</body>
</html>
